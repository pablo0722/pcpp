# PCPP
pre-cpp Processor

# Brief
Preprocessor of C++. Permits pre-process C++ files to add functionalities.

# Details
Preprocessor that gets a ".pcpp" or ".hp file and generates one or more ".cpp" and/or ".h" file/s. ".pcpp" file has exact same format as a ".cpp" file. This preprocessor only analizes specific labels on comments and generates an intermediate JSON file, then generates all .cpp and .h defined in that JSON file. You can also use this functionality to generate .cpp/.h files from JS.

## Files Hierarchy
### parser/cpp_grammar.peg
Defines cpp grammar in format admited by "pegjs" library.
Calling "node pegjs\bin\pegjs parser/cpp_grammar.peg" will generate the parser "parser/cpp_grammar.js"

### parser/cpp_grammar.js
Parser generated by "pegjs/pegjs" library using grammar "parser/cpp_grammar.peg". Running this parser on a .pcpp or .ph file will parse it and call "parser/pcpp.js" through callbacks to preprocess that file.

### parser/pcpp.js
Depending on some effects, written on source/header files as comments, may modify or generate new source files. Each effect is coded separately in a JS file on "parser/effects" folder and new effects can be easily added.

### parser/utils.js
Utils functions used by all JS parser files and effects.

### parser/file_gen.js
Imports a JSON file and generates all files defined.

# Usage
Generate parser:
- node pegjs\bin\pegjs parser\cpp_grammar.peg
run parser:
- node tests\handle_body\test.js

# Libraries used
- nodejs
- pegjs to generate parser (modified to add some functionalities)
- mkdirp to make directories recursively

# Releases
There is no release by now.